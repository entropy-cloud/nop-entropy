The following answer is generated by the deepwiki website

# 1. What additional information does the OrmEntity in NopORM maintain compared to a POJO?

## 1. Entity State Information
Nop entities maintain a complete lifecycle state, including TRANSIENT (newly created, not associated), SAVING (staged, pending save), PROXY (proxied, not loaded), MANAGED (managed), MISSING (missing), DELETING (being deleted), DELETED (deleted)â€”a total of seven states. [1](#0-0) 

## 2. Property Change Tracking Information
Internally, the entity records which properties have been assigned values, which properties have been modified, their before/after values, and supports in-memory rollback.

## 3. Property Loading and Initialization State
An IBitSet data structure records which properties have been read (accessedProps) and which properties have been assigned values (initedProps), enabling lazy loading.

## 4. Session Association Information
Maintains an association with IOrmEntityEnhancer, supporting advanced ORM features such as lazy loading and batch-load queues.

## 5. Entity Model Metadata
Each entity is associated with an IEntityModel, which contains metadata such as structural definitions, property mappings, and relationships.

## 6. Property ID Mapping Mechanism
Each property is assigned a unique propId, enabling fast access via the `orm_propValue(int propId)` method and avoiding reflection overhead.

## 7. Various Control Flags
Includes state flags such as readonly (read-only), locked, fullyLoaded (fully loaded), extDirty (extended dirty flag), flushVisiting (during flush visitation).

## 8. Associated Object Management
Dynamically maintains the set of associated objects (refProps); when a property value changes, related objects are automatically cleared to ensure relational consistency.

## 9. Primary Key Listener Mechanism
Supports primary-key initialization listeners: when the primary key has not yet been initialized, listeners can be registered; once the key is set, the callback is automatically triggered.

## 10. Transaction Control Options
Provides transaction control options such as disableAutoStamp (disable automatic bookkeeping), disableLogicalDelete (disable logical deletion), and disableVersionCheckError (disable version-check errors). 

## Notes

The Nop platform explicitly abandons the POJO principle, asserting that in low-code environments, entity classes are themselves generated code, so maintaining POJO purity is unnecessary. By introducing these additional state details, Nop entities can support more efficient dirty-checking, bulk operations, lazy loading, and other advanced ORM features, while avoiding the performance overhead of state management typically implemented via AOP or reflection in traditional ORM frameworks.  
<!-- SOURCE_MD5:fe1dd9cf651ca542c4bac5dfe6d7e913-->
