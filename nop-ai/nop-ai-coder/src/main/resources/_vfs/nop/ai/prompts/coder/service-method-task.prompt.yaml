template: |
  ã€ä»»åŠ¡ç›®æ ‡ã€‘
  ä½œä¸ºNopTaskFlowæµç¨‹ç¼–æ’DSLï¼Œå®ç°å¦‚ä¸‹æœåŠ¡æ–¹æ³•ï¼Œè¦æ±‚ï¼š
  1. æŒ‰ç…§æŒ‡å®šçš„NopTaskFlowè¯­æ³•ç”Ÿæˆ
  2. åˆ†è§£ä¸ºå¤šä¸ªstep
  3. æ·»åŠ å¿…è¦çš„æ³¨é‡Š
  4. å®Œæ•´å®ç°éœ€æ±‚ä¸­è¦æ±‚çš„å…¨éƒ¨é€»è¾‘ï¼Œï¼Œé¦–å…ˆè¦æ£€æŸ¥å‰ç½®æ¡ä»¶æ˜¯å¦æ»¡è¶³ã€‚
  
  ã€æœåŠ¡æ–¹æ³•å®šä¹‰ã€‘
  ${apiModel.getMethodJava(serviceName,methodName)}
  
  ã€NopTaskFlowè¯­æ³•ã€‘
  ${promptModel.getOutput('RESULT').xdefForAi}
  
  1. xplè¡¨ç¤ºèŠ‚ç‚¹æ˜¯ä¸€ä¸ªxplæ®µï¼Œå®ƒçš„å†…å®¹ä½¿ç”¨ã€XPLæ¨¡æ¿è¯­æ³•ã€‘ï¼Œ å¯ä»¥è°ƒç”¨å¤šä¸ªxplæ ‡ç­¾
  2. é€šè¿‡nextå’ŒnextOnErrorè¡¨ç¤ºæˆåŠŸå’Œå¤±è´¥æ—¶å¦‚ä½•è¿ç§»åˆ°ä¸‹ä¸€æ­¥éª¤ã€‚å¦‚æœä¸æŒ‡å®šï¼Œåˆ™æŒ‰ç…§stepçš„å…ˆåé¡ºåºæ‰§è¡Œ
  3. ä»…åœ¨é”™è¯¯å¯å¿½ç•¥æ—¶ä½¿ç”¨nextOnErrorè·³è½¬åˆ°æ¡ä»¶åˆ†æ”¯ï¼Œå¦åˆ™ç›´æ¥å‘å¤–æŠ›å‡ºå¼‚å¸¸å³å¯
  4. å°½é‡ç”¨å·²æœ‰æ ‡ç­¾å’Œå‡½æ•°å®ç°ï¼Œåªæœ‰æç«¯å¿…è¦æ—¶æ‰ä½¿ç”¨`&lt;task:import>`å¯¼å…¥çš„æœåŠ¡å¯¹è±¡ã€‚å¢åˆ æ”¹æŸ¥ä¸åº”ä½¿ç”¨æœåŠ¡å¯¹è±¡ã€‚æœåŠ¡å¯¹è±¡ä¸Šèƒ½å¤Ÿè°ƒç”¨çš„æ–¹æ³•å¿…é¡»é€šè¿‡methodèŠ‚ç‚¹å£°æ˜ã€‚
  5. stepçš„nameå¿…é¡»å…¨å±€å”¯ä¸€
  6. æ ¸å¿ƒä¸šåŠ¡æ•°æ®åº”è¯¥å…¥åº“ï¼Œè€Œä¸æ˜¯ä»…åœ¨å†…å­˜ä¸­å®Œæˆè®¡ç®—ï¼Œé™¤éæ˜¯è¯•ç®—è¿‡ç¨‹
  7. xpl-predicateè¡¨ç¤ºæ¡ä»¶åˆ¤æ–­ï¼Œå¯ä»¥ä½¿ç”¨å¦‚ä¸‹å‡ ç§æ–¹å¼
  
  <![CDATA[
  ```xpl
  <when> x > 2</when>
  
  æˆ–è€…
  <when>
    <eq name="status" value="2" />
  </when>
  æˆ–è€…
  <when>
    <c:script>
      if(x > 2){
        return true;
      }else{
        return false;
      }
    </c:script>
  </when>
  ```
  
  ğŸ”´ ç¦æ­¢ï¼š`<when>`ä¸æ­¥éª¤å†…æ¡ä»¶é€»è¾‘å†²çªï¼ˆå¸¸è§åæ¨¡å¼ï¼‰
  ]]>
  
  ã€XPLæ¨¡æ¿è¯­æ³•ã€‘
  <ai-coder:IncludeText fileName="v:/nop/ai/prompts/coder/xpl-lang.md" xpl:lib="/nop/ai/xlib/ai-coder.xlib" />
  
  ã€ä¸šåŠ¡å®ä½“å®šä¹‰ã€‘
  ${ormModel.ormModelJava}
  
  ã€éœ€æ±‚æ–‡æ¡£ã€‘
  ${requirements}

inputs:
  - name: ormModel
    mandatory: true

  - name: apiModel
    mandatory: true

  - name: serviceName
    mandatory: true

  - name: methodName
    mandatory: true

  - name: requirements
    mandatory: true

outputs:
  - name: RESULT
    format: xml
    xdefPath: /nop/ai/schema/coder/task.xdef