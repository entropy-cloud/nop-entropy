<?xml version="1.0" encoding="UTF-8" ?>

<!--
Agent Plan Metamodel Definition
定义AI Agent执行计划的元模型，支持任务分解、状态跟踪和备注管理
-->
<plan x:schema="/nop/schema/xdef.xdef" xmlns:x="/nop/schema/xdsl.xdef"
      xdef:name="AgentPlanModel" xdef:bean-package="io.nop.ai.agent.plan.model"
      xmlns:xdef="/nop/schema/xdef.xdef"
      path="string" title="!string"
      planStatus="enum:io.nop.ai.agent.plan.AgentExecStatus">

    <overview>string</overview>

    <tasks xdef:body-type="list" xdef:key-attr="taskNo">
        <task taskNo="!string" title="!string"
              taskStatus="enum:io.nop.ai.agent.plan.AgentExecStatus"
              xdef:name="AgentPlanTaskModel">

            <overview>string</overview>
            <resultMessage>string</resultMessage>

            <instructions>string</instructions>

            <notes xdef:body-type="list" xdef:key-attr="name">
                <note name="!string" xdef:name="AgentPlanNoteModel">string</note>
            </notes>

            <subTasks xdef:body-type="list" xdef:key-attr="taskNo">
                <task xdef:ref="AgentPlanTaskModel" taskNo="!string"/>
            </subTasks>
        </task>
    </tasks>

    <notes xdef:body-type="list" xdef:key-attr="name">
        <note xdef:ref="AgentPlanNoteModel"/>
    </notes>

</plan>
